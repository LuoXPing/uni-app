(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/videoUpload/videoUpload"],{"406b":function(t,e,o){"use strict";var n=o("5a60"),a=o.n(n);a.a},"5a60":function(t,e,o){},"61e2":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},a=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return a})},"6f11":function(t,e,o){"use strict";o.r(e);var n=o("61e2"),a=o("7f5d");for(var s in a)"default"!==s&&function(t){o.d(e,t,function(){return a[t]})}(s);o("7484"),o("406b");var i=o("2877"),l=Object(i["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=l.exports},7484:function(t,e,o){"use strict";var n=o("d43f"),a=o.n(n);a.a},"7f5d":function(t,e,o){"use strict";o.r(e);var n=o("ebb7"),a=o.n(n);for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},c346:function(t,e,o){"use strict";(function(t){o("52a2"),o("921b");n(o("66fd"));var e=n(o("6f11"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])},d43f:function(t,e,o){},ebb7:function(t,e,o){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a(o("4c99"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){return o.e("components/uni-list-item/uni-list-item").then(o.bind(null,"2d5e"))},i=function(){return o.e("components/uni-list/uni-list").then(o.bind(null,"58bb"))},l=function(){return o.e("components/uni-icons/uni-icons").then(o.bind(null,"cb50"))},u={data:function(){return{path:null,uploadTask:null,progress:null,totalBytesSent:null,totalBytesExpectedToSend:null,flag:!0,description:"",userId:""}},onLoad:function(t){this.path=t.path,this.userId=this.$store.state.userId},methods:{upload:function(){var e=this;if(t.showLoading({title:"上传中，请稍等",mask:!0}),this.flag){this.flag=!1;var o=this.$store.state.token;this.uploadTask=t.uploadFile({url:"http://120.77.26.196:8800/video/upload",filePath:this.path,name:"file",formData:{description:this.description,token:o,userId:this.userId},success:function(o){console.log(n("-----上传测试一---",o," at pages\\videoUpload\\videoUpload.vue:79"));var a=JSON.parse(o.data);a.success?t.showModal({title:"Success",content:"上传成功",showCancel:!1,success:function(e){e.confirm?t.redirectTo({url:"../index"}):e.cancel&&console.log(n("用户点击取消"," at pages\\videoUpload\\videoUpload.vue:92"))}}):(e.flag=!0,t.showModal({title:"Fail",content:a.rspDesc,showCancel:!1,success:function(t){t.confirm?console.log(n("用户点击确定"," at pages\\videoUpload\\videoUpload.vue:104")):t.cancel&&console.log(n("用户点击取消"," at pages\\videoUpload\\videoUpload.vue:106"))}}))},fail:function(o){console.log(n("-----失败-----"," at pages\\videoUpload\\videoUpload.vue:113")),e.flag=!0,t.showModal({title:"Fail",content:"上传失败,请稍后重试",showCancel:!1,success:function(t){t.confirm?console.log(n("用户点击确定"," at pages\\videoUpload\\videoUpload.vue:121")):t.cancel&&console.log(n("用户点击取消"," at pages\\videoUpload\\videoUpload.vue:123"))}})},complete:function(){t.hideLoading()}}),this.uploadTask.onProgressUpdate(function(t){e.progress=t.progress,e.totalBytesSent=t.totalBytesSent,e.totalBytesSent=t.totalBytesExpectedToSend})}},cancle:function(){this.uploadTask&&this.uploadTask.abort()}},watch:{progress:function(t,e){this.progress=t},totalBytesSent:function(t,e){this.totalBytesSent=t},totalBytesExpectedToSend:function(t,e){this.totalBytesExpectedToSend=t}},components:{uniList:i,uniListItem:s,uniIcon:l},mounted:function(){}};e.default=u}).call(this,o("6e42")["default"],o("0de9")["default"])}},[["c346","common/runtime","common/vendor"]]]);