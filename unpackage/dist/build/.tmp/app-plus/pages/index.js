(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index"],{"35fa":function(e,t,i){"use strict";i.r(t);var s=i("cf39"),o=i("a9b0");for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);i("addf");var n=i("2877"),d=Object(n["a"])(o["default"],s["a"],s["b"],!1,null,null,null);t["default"]=d.exports},6454:function(e,t,i){"use strict";(function(e){i("52a2"),i("921b");s(i("66fd"));var t=s(i("35fa"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])},a9b0:function(e,t,i){"use strict";i.r(t);var s=i("e3a1"),o=i.n(s);for(var a in s)"default"!==a&&function(e){i.d(t,e,function(){return s[e]})}(a);t["default"]=o.a},addf:function(e,t,i){"use strict";var s=i("f6a1"),o=i.n(s);o.a},cf39:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.isVideoPlay=!0})},o=[];i.d(t,"a",function(){return s}),i.d(t,"b",function(){return o})},e3a1:function(e,t,i){"use strict";(function(e,s){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("4c99"));function a(e){return e&&e.__esModule?e:{default:e}}var n=function(){return i.e("components/footer/footer").then(i.bind(null,"e172"))},d={data:function(){return{token:"",id:"",videos:[],item:{},swiperDistance:"0",isVideoPlay:"",videoId:""}},components:{footerNav:n},onLoad:function(t){var i=this;this.videoId=t.videoId,o.default.baseRequest({url:"/video/getVideoList",data:{userId:this.id},success:function(t){if(console.log(e(t.data," at pages\\index.vue:66")),t.data.success){var s=t.data;i.videos=s.msg,i.item=i.videos.shift()}console.log(e(i.item," at pages\\index.vue:72"))}})},onShow:function(){this.id=this.$store.state.userId,this.token=this.$store.state.token,this.refreshDate()},onReady:function(){this.videoContext=s.createVideoContext("myvideo")},methods:{refreshDate:function(){var t=this;o.default.baseRequest({url:"/video/getVideoList",data:{userId:this.id},success:function(i){if(console.log(e(i.data," at pages\\index.vue:93")),i.data.success)for(var s=i.data.msg,o=t.videoId?t.videoId:t.item.video_id,a=s.length;a>0;a--){var n=s.shift();if(console.log(e("--",n.video_id," at pages\\index.vue:99")),n.video_id===o){t.videos=s,t.item=n,console.log(e(t.item," at pages\\index.vue:103"));break}}}})},getVideoList:function(){var t=this;o.default.baseRequest({url:"/video/getVideoList",data:{userId:this.id},success:function(i){if(console.log(e(i.data," at pages\\index.vue:119")),i.data.success){var s=i.data,o=t.videos.concat(s.msg);t.videos=o}}})},dealTouchstart:function(e){this.swiperDistance=e.changedTouches[0].pageY},dealTouchend:function(t){this.swiperDistance-=t.changedTouches[0].pageY,this.swiperDistance>50?(this.item=this.videos.shift(),this.num++,this.videos.length<2&&this.getVideoList(),console.log(e(this.videos," at pages\\index.vue:140"))):this.isVideoPlay?(this.videoContext.pause(),this.isVideoPlay=!1):(this.videoContext.play(),this.isVideoPlay=!0)},dealFocus:function(){var t=this;this.token?("0"===this.item.followFlag?o.default.baseRequest({url:"/follow/add",data:{followId:this.item.user_id,token:this.token,userId:this.id},success:function(i){console.log(e(i," at pages\\index.vue:168")),i.data.success&&(console.log(e("关注成功"," at pages\\index.vue:170")),t.item.followFlag="1")}}):o.default.baseRequest({url:"/follow/sub",data:{followId:this.item.user_id,token:this.token,userId:this.id},success:function(i){console.log(e(i," at pages\\index.vue:184")),i.data.success&&(console.log(e("取消关注成功"," at pages\\index.vue:186")),t.item.followFlag="0")}}),this.refreshDate()):s.showModal({content:"尚未登录，请进行登录",showCancel:!1})},gotoMessage:function(){s.redirectTo({url:"comment?videoId="+this.item.video_id})},dealheart:function(t){var i=this;o.default.baseRequest({url:"appreciate/change",data:{videoId:this.item.video_id,token:this.token,userId:this.id},success:function(t){console.log(e(t," at pages\\index.vue:211")),t.data.success&&(i.item.appreciateFlag="0"===i.item.appreciateFlag?"1":"0",i.refreshDate())}})}}};t.default=d}).call(this,i("0de9")["default"],i("6e42")["default"])},f6a1:function(e,t,i){}},[["6454","common/runtime","common/vendor"]]]);